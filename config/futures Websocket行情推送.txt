市场数据连接
本篇所列出的所有wss接口需用下列方式连接：

futures: Base Url：wss://fstream.binance.com，spot: wss://stream.binance.com:9443 或者 wss://stream.binance.com:443
订阅单一stream格式为 /ws/<streamName>
组合streams的URL格式为 /stream?streams=/<streamName1>/<streamName2>/<streamName3>

连接样例：
wss://fstream.binance.com/ws/bnbusdt@aggTrade
wss://fstream.binance.com/stream?streams=bnbusdt@aggTrade/btcusdt@markPrice
订阅组合streams时，事件payload会以这样的格式封装 {"stream":"<streamName<","data":<rawPayload>}

stream名称中所有交易对均为小写。

每个链接有效期不超过24小时，请妥善处理断线重连。

服务端每3分钟会发送ping帧，客户端应当在10分钟内回复pong帧，否则服务端会主动断开链接。允许客户端发送不成对的pong帧(即客户端可以以高于15分钟每次的频率发送pong帧保持链接)。

Websocket服务器每秒最多接受10个订阅消息。

如果用户发送的消息超过限制，连接会被断开连接。反复被断开连接的IP有可能被服务器屏蔽。

单个连接最多可以订阅 1024 个Streams。


实时订阅/取消数据流
以下数据可以通过websocket发送以实现订阅或取消订阅数据流。示例如下。
响应内容中的id是无符号整数，作为往来信息的唯一标识。
订阅一个信息流
响应

{
  "result": null,
  "id": 1
}

请求

{
"method": "SUBSCRIBE",
"params":
[
"btcusdt@aggTrade",
"btcusdt@depth"
],
"id": 1
}

取消订阅一个信息流
响应

{
  "result": null,
  "id": 312
}

请求

{
"method": "UNSUBSCRIBE",
"params":
[
"btcusdt@depth"
],
"id": 312
}

已订阅信息流
响应

{
  "result": [
    "btcusdt@aggTrade"
  ],
  "id": 3
}

请求

{
"method": "LIST_SUBSCRIPTIONS",
"id": 3
}

设定属性
当前，唯一可以设置的属性是设置是否启用combined("组合")信息流。
当使用/ws/("原始信息流")进行连接时，combined属性设置为false，而使用 /stream/进行连接时则将属性设置为true。

响应

{
  "result": null
  "id": 5
}

请求

{
"method": "SET_PROPERTY",
"params":
[
"combined",
true
],
"id": 5
}

检索属性
响应

{
  "result": true, // Indicates that combined is set to true.
  "id": 2
}

请求

{
"method": "GET_PROPERTY",
"params":
[
"combined"
],
"id": 2
}

##错误信息

错误信息	描述
{"code": 0, "msg": "Unknown property"}	SET_PROPERTY 或 GET_PROPERTY中应用的参数无效
{"code": 1, "msg": "Invalid value type: expected Boolean"}	仅接受true或false
{"code": 2, "msg": "Invalid request: property name must be a string"}	提供的属性名无效
{"code": 2, "msg": "Invalid request: request ID must be an unsigned integer"}	参数id未提供或id值是无效类型
{"code": 2, "msg": "Invalid request: unknown variant %s, expected one of SUBSCRIBE, UNSUBSCRIBE, LIST_SUBSCRIPTIONS, SET_PROPERTY, GET_PROPERTY at line 1 column 28"}	错字提醒，或提供的值不是预期类型
{"code": 2, "msg": "Invalid request: too many parameters"}	数据中提供了不必要参数
{"code": 2, "msg": "Invalid request: property name must be a string"}	未提供属性名
{"code": 2, "msg": "Invalid request: missing field method at line 1 column 73"}	数据未提供method
{"code":3,"msg":"Invalid JSON: expected value at line %s column %s"}	JSON 语法有误.